webpackJsonp([13],{"KhR+":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("Vxr5"),i={name:"component_name",data:function(){return{bookList:[]}},created:function(){this.getInfo(),this.getAllNoteBook()},methods:{getInfo:function(){var t=this;n.a.getInfo().then(function(e){e.isLogin||(t.$message.error("登录失效，请重新登录"),t.$router.push({path:"/login"}))})},getAllNoteBook:function(){var t=this;n.a.getAllNoteBook().then(function(e){console.log(e.data),t.isLogin=!0,t.bookList=e.data.reverse()})},delNoteBook:function(t){var e=this;this.$confirm("此操作将删除该笔记本, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.deleteNoteBook(t).then(function(t){e.$message.success("删除成功"),e.getAllNoteBook()}).catch(function(t){e.$message.error(t.msg)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},editNoteBook:function(t){var e=this;this.$prompt("请输入笔记标题","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(o){var i=o.value;n.a.editNoteBook(t,{title:i}).then(function(t){e.$message({type:"success",message:"修改成功"}),e.getAllNoteBook()})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},addNoteBook:function(){var t=this;this.$prompt("请输入笔记标题","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var o=e.value;n.a.addNoteBook({title:o}).then(function(e){t.$message({type:"success",message:"添加成功"}),t.getAllNoteBook()})}).catch(function(){t.$message({type:"info",message:"取消输入"})})},toNoteInfo:function(t,e){this.$router.push({path:"/note",query:{id:t,title:e}})}}},s={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("ul",{staticClass:"noteBookList",staticStyle:{}},[o("h3",[t._v("笔记本列表")]),t._v(" "),o("el-row",{staticStyle:{margin:"20px"},attrs:{type:"flex",justify:"left"}},[o("el-col",{attrs:{span:6}},[o("el-button",{staticClass:"el-icon-circle-plus-outline",attrs:{type:"primary",round:""},on:{click:t.addNoteBook}},[t._v("\n          添加笔记本\n        ")])],1)],1),t._v(" "),t._l(t.bookList,function(e,n){return o("li",{key:n,staticStyle:{},on:{click:function(o){return t.toNoteInfo(e.id,e.title)}}},[o("span",[t._v(t._s(e.title)+" ")]),t._v(" "),o("span",[t._v("创建时间:"+t._s(e.createdAt))]),t._v(" "),o("div",[o("span",{staticClass:"el-icon-delete",staticStyle:{color:"red"},on:{click:function(o){return o.stopPropagation(),t.delNoteBook(e.id)}}}),t._v(" "),o("span",{staticClass:"el-icon-edit",staticStyle:{margin:"0 20px",color:"blue"},on:{click:function(o){return o.stopPropagation(),t.editNoteBook(e.id)}}})])])})],2)])},staticRenderFns:[]};var a=o("VU/8")(i,s,!1,function(t){o("QNbn")},"data-v-02aa3bca",null);e.default=a.exports},QNbn:function(t,e){}});
//# sourceMappingURL=13.2c8ee13d82f3ca40c050.js.map